<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Numerical System Test - Baby Raising Simulator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        .test-section {
            background: #f5f5f5;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .success {
            background: #d4edda;
            color: #155724;
        }
        .error {
            background: #f8d7da;
            color: #721c24;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
        }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0056b3;
        }
        .status {
            font-weight: bold;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üß™ Numerical System Test</h1>
    <p>This page tests the new 0-10 numerical system for finance and marital status in the Baby Raising Simulator.</p>

    <div class="test-section info">
        <h3>üìä System Overview</h3>
        <ul>
            <li><strong>Finance:</strong> 0-10 range (0 = bankruptcy, 10 = wealthy)</li>
            <li><strong>Marital:</strong> 0-10 range (0 = partner leaves, 10 = perfect relationship)</li>
            <li><strong>Crisis Triggers:</strong> finance ‚â§ 0 OR marital ‚â§ 0</li>
        </ul>
    </div>

    <div class="test-section">
        <h3>üéÆ Game Access Test</h3>
        <p>Click the button below to open the game in a new tab and verify it loads correctly:</p>
        <button onclick="window.open('http://localhost:5173', '_blank')">Open Game</button>
        <div id="game-status" class="status"></div>
    </div>

    <div class="test-section">
        <h3>‚úÖ Manual Testing Checklist</h3>
        <p>After opening the game, verify these features work:</p>
        <ol>
            <li>
                <input type="checkbox" id="test1"> 
                <label for="test1">Game initializes without errors</label>
            </li>
            <li>
                <input type="checkbox" id="test2"> 
                <label for="test2">Initial state shows proper finance/marital values (hidden from player)</label>
            </li>
            <li>
                <input type="checkbox" id="test3"> 
                <label for="test3">Player can start a new game</label>
            </li>
            <li>
                <input type="checkbox" id="test4"> 
                <label for="test4">Questions are generated correctly</label>
            </li>
            <li>
                <input type="checkbox" id="test5"> 
                <label for="test5">Option selection works without errors</label>
            </li>
            <li>
                <input type="checkbox" id="test6"> 
                <label for="test6">No references to old "isBankrupt" or "financialBurden" in UI</label>
            </li>
        </ol>
    </div>

    <div class="test-section">
        <h3>üîß Developer Console Tests</h3>
        <p>Open browser dev tools and run these commands in the console:</p>
        <pre><code>// Check if the store has the new properties
const state = window.__REACT_DEVTOOLS_GLOBAL_HOOK__?.renderers?.get(1)?.findFiberByHostInstance?.(document.querySelector('[data-reactroot]'))?.return?.stateNode?.state;
console.log('Finance:', state?.finance);
console.log('Marital:', state?.marital);

// Or check the Zustand store directly (if accessible)
// This will depend on how the store is exposed</code></pre>
    </div>

    <div class="test-section">
        <h3>üìù Expected Behavior</h3>
        <ul>
            <li><strong>Initial Values:</strong> Finance should be 2-8 based on wealth tier, Marital should be 5</li>
            <li><strong>Wealth Mapping:</strong> Poor=2, Middle=5, Wealthy=8 (for finance)</li>
            <li><strong>Hidden Values:</strong> Players should never see the actual numbers</li>
            <li><strong>Crisis Detection:</strong> System should handle bankruptcy (finance‚â§0) and relationship crisis (marital‚â§0)</li>
        </ul>
    </div>

    <div class="test-section success">
        <h3>‚úÖ Compilation Status</h3>
        <p><strong>SUCCESS:</strong> The code compiles without errors after implementing the corrected numerical system!</p>
        <ul>
            <li>‚úÖ Removed boolean flags (isBankrupt, partnerLeft)</li>
            <li>‚úÖ Added 0-10 numerical ranges (finance, marital)</li>
            <li>‚úÖ **CORRECTED:** Finance logic now uses 0 = bankruptcy, 10 = wealthy</li>
            <li>‚úÖ Updated all API calls and state management</li>
            <li>‚úÖ Fixed TypeScript compilation errors</li>
            <li>‚úÖ Updated pre-generated states with correct finance/marital values</li>
        </ul>
        
        <h4>üìä Updated Finance System:</h4>
        <ul>
            <li>**Wealth Mapping:** Poor=2, Middle=5, Wealthy=8 (for finance)</li>
            <li>**Crisis Detection:** finance ‚â§ 0 triggers bankruptcy scenarios</li>
            <li>**Cost Logic:** Costs subtract from finance (higher finance = better)</li>
            <li>**Pre-generated States:** All 24 scenarios now include finance/marital values</li>
        </ul>
    </div>

    <script>
        // Simple test to verify the game is accessible
        document.addEventListener('DOMContentLoaded', function() {
            const statusDiv = document.getElementById('game-status');
            
            // Test if the game server is running
            fetch('http://localhost:5173')
                .then(response => {
                    if (response.ok) {
                        statusDiv.innerHTML = '<span style="color: green;">‚úÖ Game server is running on localhost:5173</span>';
                        statusDiv.className = 'status success';
                    } else {
                        statusDiv.innerHTML = '<span style="color: red;">‚ùå Game server responded with error</span>';
                        statusDiv.className = 'status error';
                    }
                })
                .catch(error => {
                    statusDiv.innerHTML = '<span style="color: red;">‚ùå Cannot connect to game server. Make sure npm run dev is running.</span>';
                    statusDiv.className = 'status error';
                });
        });
    </script>
</body>
</html> 